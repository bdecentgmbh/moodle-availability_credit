YUI.add('moodle-availability_credit-form',function(Y,NAME){M.availability_credit=M.availability_credit||{};M.availability_credit.form=Y.Object(M.core_availability.plugin);M.availability_credit.form.initInner=function(currencies){this.currencies=currencies;};M.availability_credit.form.getNode=function(json){var selected_string='';html='<div><label>';html+=M.util.get_string('cost','availability_credit');html+='<input name="cost" type="text" /></label></div>';var node=Y.Node.create('<span>'+html+'</span>');if(json.cost){node.one('input[name=cost]').set('value',json.cost);}
if(!M.availability_credit.form.addedEvents){M.availability_credit.form.addedEvents=true;var root=Y.one('.availability-field');root.delegate('change',function(){M.core_availability.form.update();},'.availability_credit input');}
return node;};M.availability_credit.form.fillValue=function(value,node){value.cost=this.getValue('cost',node);};M.availability_credit.form.getValue=function(field,node){var value=node.one('input[name='+field+']').get('value');if(!(/^[0-9]+([.,][0-9]+)?$/.test(value))){return value;}
var result=parseFloat(value.replace(',','.'));return result;};M.availability_credit.form.fillErrors=function(errors,node){var value={};this.fillValue(value,node);if((value.cost!==undefined&&typeof(value.cost)==='string')||value.cost<=0){errors.push('availability_credit:error_cost');}};},'@VERSION@',{"requires":["base","node","event","moodle-core_availability-form"]});